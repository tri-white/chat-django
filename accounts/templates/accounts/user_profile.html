{% extends 'base.html' %}

{% block content %}
  {% load static %}  <!-- Додайте цей рядок для завантаження тегу static -->

  <div class="container mt-5 text-center">
    <h2 class="mb-4 display-4">Профіль користувача</h2>
    <div class="mb-4">
      <p class="mt-3 lead">Псевдонім: {{ user.username }}</p>
      <p class="lead">Email: {{ user.email }}</p>
    </div>

    <div class="accordion" id="profileSettingsAccordion">
      <button class="btn btn-primary btn-lg" type="button" data-bs-toggle="collapse" data-bs-target="#userProfileForm" aria-expanded="true" aria-controls="userProfileForm">
        Налаштування
      </button>

      <div id="userProfileForm" class="collapse mt-4" data-bs-parent="#profileSettingsAccordion">

        <hr class="my-4">

        <!-- Форма зміни паролю -->
        <form method="post">
          {% csrf_token %}

          <div class="mb-3">
            <label for="{{ password_form.old_password.id_for_label }}" class="form-label h5">Поточний пароль</label>
            {{ password_form.old_password }}
          </div>

          <div class="mb-3">
            <label for="{{ password_form.new_password1.id_for_label }}" class="form-label h5">Новий пароль</label>
            {{ password_form.new_password1 }}
          </div>

          <div class="mb-3">
            <label for="{{ password_form.new_password2.id_for_label }}" class="form-label h5">Підтвердження нового паролю</label>
            {{ password_form.new_password2 }}
          </div>

          <button type="submit" class="btn btn-primary btn-lg">Змінити пароль</button>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
